<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>loader</title>
    <meta name="description" content="test that snippet loader works"></meta>
  </head>
  <body>
    <script type="text/javascript">
      !(function(t, e) {
        if (void 0 === e[t]) {
          (e[t] = function() {
            e[t].clients.push(this),
              (this._init = [Array.prototype.slice.call(arguments)]);
          }),
            (e[t].clients = []);
          for (
            var r = function(t) {
              return function() {
                return (
                  (this["_" + t] = this["_" + t] || []),
                  this["_" + t].push(Array.prototype.slice.call(arguments)),
                  this
                );
              };
            },
            s = [
              "addRecord",
              "fetchGlobalID",
              "set",
              "trackEvent",
              "trackPageview",
              "trackClicks",
              "ready"
            ],
            a = 0;
            a < s.length;
            a++
          ) {
            var c = s[a];
            e[t].prototype[c] = r(c);
          }
          var n = document.createElement("script");
          (n.type = "text/javascript"),
            (n.async = !0),
            (n.src = "/dist/td.min.js");
          var i = document.getElementsByTagName("script")[0];
          // Artificially increase loading time
          setTimeout(function () {
            i.parentNode.insertBefore(n, i);
          }, 2000);
        }
      })("Treasure", this);
    </script>
  </body>
</html>
